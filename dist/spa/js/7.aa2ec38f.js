(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1d0e":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Map")},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("notifications",{staticClass:"notification-position",attrs:{position:"top center"}}),e("div",{attrs:{id:"map"}}),e("div",{attrs:{id:"info"}}),e("div",{staticClass:"legend"},[e("div",{staticClass:"legend_title"},[t._v("Total Cases")]),t._l(t.legend_color,(function(a,n){return e("div",{staticClass:"row"},[e("div",{staticClass:"square",style:t.GetLegendStyle(n,t.legend_color)}),e("span",[t._v(t._s(a.name.toLocaleString("en")))])])}))],2)],1)},i=[],s=e("bc3a"),l=e.n(s),c=(e("ee98"),e("5bc0"),e("a2e1")),d=e("5eee"),u=e("3e6b"),h=e("5831"),m=e("a2c7"),p=e("6c77"),g=e("83a6"),_=e("8682"),f={name:"Map",data(){return{country_data:[],legend_range:[],total_cases:0,legend_color:[{color:"#FFFFFF",name:"No Information"},{color:"#99FF99",name:""},{color:"#FFB266",name:""},{color:"#FFCC99",name:""},{color:"#FF9933",name:""},{color:"#FF8000",name:""},{color:"#FF9999",name:""},{color:"#FF3333",name:""},{color:"#FF0000",name:""}]}},mounted(){this.$notify({title:"Map Loading",text:"Loading the map may take up to 20 seconds",duration:3e3}),l.a.get("https://corona-api.com/countries").then((t=>{var a={};for(let n=0;n<t.data.data.length;n++)a=t.data.data[n],t.data.data[n].latest_data.confirmed>this.total_cases&&(this.total_cases=t.data.data[n].latest_data.confirmed),"USA"===t.data.data[n].name?(a.name="United States of America",this.country_data.push(a)):"UK"===t.data.data[n].name?(a.name="United Kingdom",this.country_data.push(a)):"CÃ´te d'Ivoire"===t.data.data[n].name?(a.name="Ivory Coast",this.country_data.push(a)):"S. Korea"===t.data.data[n].name?(a.name="South Korea",this.country_data.push(a)):"Korea, Democratic People's Republic of"===t.data.data[n].name?(a.name="North Korea",this.country_data.push(a)):"Serbia"===t.data.data[n].name?(a.name="Republic of Serbia",this.country_data.push(a)):"Czechia"===t.data.data[n].name?(a.name="Czech Republic",this.country_data.push(a)):"DRC"===t.data.data[n].name?(a.name="Democratic Republic of the Congo",this.country_data.push(a)):"Congo"===t.data.data[n].name?(a.name="Republic of the Congo",this.country_data.push(a)):"Tanzania"===t.data.data[n].name?(a.name="United Republic of Tanzania",this.country_data.push(a)):this.country_data.push(a);var e=this.total_cases/this.legend_color.length;for(let n=0;n<this.legend_color.length-1;n++)this.legend_range.push(n*e),0!==n&&(this.legend_color[n].name=parseInt(n*e));this.legend_color[this.legend_color.length-1].name=parseInt(this.total_cases);for(let n=0;n<this.country_data.length;n++){let t=0,a=!1;while(!1===a)this.country_data[n].latest_data.confirmed>=this.legend_range[t]?t++:(this.country_data[n].color=this.legend_color[t].color,a=!0)}this.initiateMap()}))},methods:{GetLegendStyle:function(t,a){var e={};return e.backgroundColor=a[t].color,e},initiateMap(){var t=this.country_data,a=new h["a"]({url:"https://openlayers.org/en/latest/examples/data/geojson/countries.geojson",format:new c["a"]}),e=new p["b"]({fill:new g["a"]({color:"white"}),stroke:new _["a"]({color:"white",width:1})}),n=new u["a"]({renderMode:"image",source:a,style:r}),o=new m["a"]({center:[0,0],zoom:1});a.on("change",(function(a){n.getSource().forEachFeature((function(a){for(let e=0;e<t.length;e++)t[e].name===a.get("name")&&(a.set("population",t[e].population),a.set("total_cases",t[e].latest_data.confirmed),a.set("total_deaths",t[e].latest_data.deaths),a.set("color",t[e].color))}))}));function r(t,a){if(t.get("color")){var n=new p["b"]({fill:new g["a"]({color:t.get("color")}),stroke:new _["a"]({color:"#A0A0A0",width:1})});return[n]}return[e]}var i=new d["a"]({layers:[n],target:"map",view:o});i.on("pointermove",(function(t){if(!t.dragging){var a=i.getEventPixel(t.originalEvent),e=i.forEachFeatureAtPixel(a,(function(t){return t})),n=document.getElementById("info");e?(document.getElementById("info").style.display="block",n.innerHTML='<p class="no-margin">Country : '+e.get("name")+"</p>",e.values_.color?(n.innerHTML+='<p class="no-margin">Population:'+parseInt(e.get("population")).toLocaleString("en")+"</p>",n.innerHTML+='<p class="no-margin">Total Cases:'+parseInt(e.get("total_cases")).toLocaleString("en")+"</p>",n.innerHTML+='<p class="no-margin">Total Deaths:'+parseInt(e.get("total_deaths")).toLocaleString("en")+"</p>"):n.innerHTML+='<p class="no-margin">Information:/</p>'):(n.innerHTML="&nbsp;",document.getElementById("info").style.display="none")}}))}}},y=f,v=(e("5490"),e("2877")),w=Object(v["a"])(y,r,i,!1,null,null,null),F=w.exports,b={name:"MapPage",components:{Map:F}},C=b,L=Object(v["a"])(C,n,o,!1,null,null,null);a["default"]=L.exports},5490:function(t,a,e){"use strict";e("59a8")},"59a8":function(t,a,e){}}]);